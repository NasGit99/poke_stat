{% extends 'base.html' %}

{% block header %}
{% endblock header %}

{% block content %}
  <p>
    Learn more about this project by visiting the <a href="{{ url_for('pages.about') }}">About page</a>.
  </p>



  <style>
    table {
        width: 100%; 
        border-collapse: collapse; 
    }
    th, td {
        border: 1px solid black; 
        padding: 8px; 
        text-align: left; 
    }
  </style>

  <h3>Scarlet Violet Dex</h3>

{% if sprites %}
{% for row in sprites %}
<div class="pokemon-container">
  <div class="pokemon-image-box">
      <img src={{row.front_sprite}} alt="front_sprite" class="pokemon-image">
      <p>Normal</p>
  </div>
  <div class="pokemon-image-box">
      <img src={{row.front_shiny_sprite}} alt="front_shiny_sprite" class="pokemon-image">
      <p>Shiny</p>
  </div>
</div>

{% endfor %}
  {% else %}
  <p>No image found.</p>
  {% endif %}



<table>

  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Type 2</th>
  </tr>

  {% if poke_stats %}
  {% for row in poke_stats %}
  <tr>
      <td>{{ row.poke_name.capitalize() }}</td>
      <td>{{ row.type.capitalize() }}</td>
      <!-- applying text modifications to pokemon with no type 2 will result in no results -->
      {% if row.type_2 %}
      <td>{{ row.type_2.capitalize() }}</td>
      {% else %}
      <td>N/A</td>
      {% endif %}
  </tr>
  {% endfor %}
{% else %}
  <p>No results found.</p>
{% endif %}
</table>

<h2>   </h2>

<table>
  <tr>
    <th>Ability Name</th>
    <th>Description</th>
    <th>Hidden Ability</th>
    <th>Description</th>
  </tr>

  {% if abilities %}
  {% for row in abilities %}
  <tr>
      <td>{{row.ability_1.capitalize()}}</td>
      
      <td>{{ row.ability_1_description }}</td>
      {% if row.ability_2 %}
      <td>{{ row.ability_2.capitalize() }}</td>
      {% else %}
      <td>N/A</td>
      {% endif %}

      {% if row.ability_2_description%}
      <td>{{ row.ability_2_description }}</td>
      {% else %}
      <td>N/A</td>
      {% endif %}

  </tr>
  {% endfor %}
  {% else %}
  <p>No results found.</p>
  {% endif %}
</table>
</table>

<h2>Weaknesses</h2>
  <table>
    <tr>
      <th>Normal</th>
      <th>Fire</th>
      <th>Water</th>
      <th>Electric</th>
      <th>Grass</th>
      <th>Ice</th>
      <th>Fighting</th>
      <th>Poison</th>
      <th>Ground</th>
      <th>Flying</th>
      <th>Psychic</th>
      <th>Bug</th>
      <th>Rock</th>
      <th>Ghost</th>
      <th>Dragon</th>
      <th>Dark</th>
      <th>Steel</th>
      <th>Fairy</th>
  </tr>
      {% if type_weakness %}
      {% for row in type_weakness %}
      <td>{{ row.Normal }}</td>
      <td>{{ row.Fire }}</td>
      <td>{{ row.Water }}</td>
      <td>{{ row.Electric }}</td>
      <td>{{ row.Grass }}</td>
      <td>{{ row.Ice }}</td>
      <td>{{ row.Fighting }}</td>
      <td>{{ row.Poison }}</td>
      <td>{{ row.Ground }}</td>
      <td>{{ row.Flying }}</td>
      <td>{{ row.Psychic }}</td>
      <td>{{ row.Bug }}</td>
      <td>{{ row.Rock }}</td>
      <td>{{ row.Ghost }}</td>
      <td>{{ row.Dragon }}</td>
      <td>{{ row.Dark }}</td>
      <td>{{ row.Steel }}</td>
      <td>{{ row.Fairy }}</td>
    </tr>
    {% endfor %}
    {% else %}
    <p>No results found.</p>
    {% endif %}
</table>

<h2>Standard Level Up</h2>
<table>
  <th>Level</th>
  <th>Attack Name</th>
  <th>Type</th>
  <th>Attack Category</th>
  <th>Attack</th>
  <th>Priority</th>
  <th>PP</th>

  {% if level_up_moves %}
  {% for row in level_up_moves %}
  <tr>
      <td>{{ row.level_learned_at }}</td>
      <td>{{ row.move_name.capitalize() }}</td>
      <td>{{ row.move_type.capitalize() }}</td>
      <td>{{ row.move_attack_type.capitalize() }}</td>
      <td>{{ row.attack }}</td>
      <td>{{ row.priority}}</td>
      <td>{{row.pp}}</td>
  </tr>
  {% endfor %}
  {% else %}
  <p>No results found.</p>
  {% endif %}


</table>

{% if egg_moves%}
<h2>Egg Moves</h2>
<table>
  <th>Attack Name</th>
  <th>Type</th>
  <th>Attack Category</th>
  <th>Attack</th>
  <th>Priority</th>
  <th>PP</th>

  
  {% for row in egg_moves %}
  <tr>
      <td>{{ row.move_name.capitalize() }}</td>
      <td>{{ row.move_type.capitalize() }}</td>
      <td>{{ row.move_attack_type.capitalize() }}</td>
      <td>{{ row.attack }}</td>
      <td>{{ row.priority}}</td>
      <td>{{row.pp}}</td>
  </tr>
  {% endfor %}
  {% else %}
  <p>No egg move data</p>
  {% endif %}


</table>
{% if machine_moves %}
<h2>Machine Moves</h2>
<table>
  <th>TM #</th>
  <th>Attack Name</th>
  <th>Type</th>
  <th>Attack Category</th>
  <th>Attack</th>
  <th>Priority</th>
  <th>PP</th>

  
  {% for row in machine_moves %}
  <tr>
      <td>{{row.machine_name.upper()}}</td>
      <td>{{ row.move_name.capitalize() }}</td>
      <td>{{ row.move_type.capitalize() }}</td>
      <td>{{ row.move_attack_type.capitalize() }}</td>
      <td>{{ row.attack }}</td>
      <td>{{ row.priority}}</td>
      <td>{{row.pp}}</td>
  </tr>
  {% endfor %}
  {% else %}
  <p>No results found.</p>
  {% endif %}


</table>

<h2> Stats</h2>
<table>
  

          <th>Hp</th>
          <th>Attack</th>
          <th>Defense</th>
          <th>Special Attack</th>
          <th>Special Defense</th>
          <th>Speed</th>
          <th>Total</th>
      </tr>
      
      {% if poke_stats %}
      {% for row in poke_stats %}
      <tr>
          <td>{{ row.hp }}</td>
          <td>{{ row.attack }}</td>
          <td>{{ row.defense }}</td>
          <td>{{ row.spatk }}</td>
          <td>{{ row.spdef }}</td>
          <td>{{ row.speed }}</td>
          <td>{{row.hp+ row.attack + row.defense+ row.spatk+ row.spdef + row.speed}}</td>
      </tr>
      {% endfor %}
      {% else %}
      <p>No results found.</p>
      {% endif %}
  </table>

  <a href="/">Back to search</a>
{% endblock content %}
